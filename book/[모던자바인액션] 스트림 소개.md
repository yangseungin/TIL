# 스트림이란?
자바 8에 추가된 기능으로 멀티스레드 코드를 이용하지 않아도 간단하게 병렬로 처리하는 어플리케이션을 구현할 수 있다.

## 자바8 이전과 이후의 차이

### java7 
```java
//자바 8 이전 - 2020년이후 발행된 책을 년도순으로 정렬하여 책이름을 반환
    private static List<String> getBooksNameSortedByYearAfter2020(List<Book> books) {
        //2020년 이후책
        List<Book> booksAfter2020 = new ArrayList<>();
        for (Book book : books) {
            if (book.getYear() >= 2020) {
                booksAfter2020.add(book);
            }
        }
        //연도순 정렬
        Collections.sort(booksAfter2020, new Comparator<Book>() {
            @Override
            public int compare(Book book1, Book book2) {
                return Integer.compare(book1.getYear(), book2.getYear());
            }
        });
        List<String> booksNameAfter2020 = new ArrayList<>();
        for (Book book : booksAfter2020) {
            booksNameAfter2020.add(book.getName());
        }
        return booksNameAfter2020;
    }
```
중간에 2020년 이후 책들만 가져오기 위해 booksAfter2020이라는 가비지 변수를 사용하였다.  
이를 java8에서는 스트림을 사용하여 어떻게 작성할 수 있는지 알아보자

### java8
```java
//자바 8 이후 - 2020년이후 발행된 책을 년도순으로 정렬하여 책이름을 반환
    private static List<String> getBooksName2(List<Book> books) {
        //2020년 이후책
        List<String> collect = books.stream()
                .filter(book -> book.getYear() >= 2020)
                .sorted(comparing(Book::getYear))
                .map(Book::getName)
                .collect(Collectors.toList());

        return collect;
    }
```
stream()을 parallelStream()으로 바꾸면 병렬로 실행할 수도 있다.  
위 코드에서 filter, sorted, map, collect 같은 여러 빌딩 블록으로 연결해서 가독성과 명확성도 유지되며 특정 스레딩 모델에 제한되지 않고 어떤 상황에서든 사용할 수 있다.

## 스트림의 간단한 특징
- 선언형 : 더 간결하고 가독성이 좋아진다.
- 조립할 수 있음: 유연성이 좋아진다.
- 병렬화: 성능이 좋아진다.






# 참고문서

모던 자바 인 액션 - 라울 게이브리얼 우르마, 마리오 푸스코, 앨런 마이크로소포트