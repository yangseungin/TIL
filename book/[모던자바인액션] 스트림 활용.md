# 필터링
스트림의 요소를 선택하는 방법  
- filter: Predicate를 인수로 받아서 일치하는 모든 요소를 포함하는 스트림 반환
- distinct: 고유 요소로 이루어진 스트림 반환(중복복을 제거하며 객체의 hashcode, equals로 결정)

# 스트림 슬라이싱
스트림의 요소를 선택하거나 스킵하는 방법

## Predicate를 이용한 슬라이싱
자바 9 에서는 takeWhile, dropWhile 두가지의 새로운 메서드를 제공한다

### TAKEWHILE
책 리스트가 최신순으로 정렬이 되어있다.
```java
List<Book> books = asList(new Book("2022신상책", "양승인", 2022, "IT"),
        new Book("이순신의 바다", "황현필", 2021, "History"),
        new Book("갈매기의 꿈", "리처드 바크", 2020, "Fiction"),
        new Book("모던 자바 인 액션", "라울-게이브리얼 우르마", 2020, "IT"),
        new Book("2019년 책", "양승인", 2019, "IT"),
        new Book("이펙티브 자바", "조슈아 블로크", 2018, "IT"));
```
2020년도 부터 발행된 책을 선택하려면 filter를 사용할 수 있었다.
```java
List<Book> collect = books.stream()
                .filter(book -> book.getYear() >= 2020)
                .collect(Collectors.toList());
```
하지만 주어진 books는 이미 정렬이 되어있고 순회하면서 2019년을 만난 이후시점의 책을 반복하는것은 낭비이다.  
이때 takeWhile을 이용하면 predicate를 만족하지 못하는 요소를 만나면 중한 후 스트림을 반환한다.

```java
List<Book> collectWithTakeWhile = books.stream()
        .takeWhile(book -> book.getYear() >= 2020)
        .collect(Collectors.toList());
```

### DROPWHILE
takeWhile과 정반대의 작업을 수행한다.  
predicate가 처음으로 거짓이 되면 그지점에서 작업을 중단하고 남은 요소를 반환한다.

```java
List<Book> collectWithDropWhile = books.stream()
        .dropWhile(book -> book.getYear() >= 2020)
        .collect(Collectors.toList());
```

## 스트림 축소
### limit
- 함수에 파라미터로 넣은 건수 만큼의 요소를 반환한다.

## 요소 건너뛰기
### skip
- 처음 n개의 요소를 제외한 스트림을 반환한다.

# 매핑
특정 객체에서 특정 데이터를 선택하는 기능

## 스트림의 각 요소에 함수 적용하기
### map
- Function을 인수로 받으며 받은 함수는 각요소에 적용되며 함수를 적용한 결과가 새로운 요소로 매핑

```java
List<String> bookNames = books.stream().
                map(Book::getName)
                .collect(Collectors.toList());
```

## 스트림 평면화
### flatMap
- 스트림의 요소를 풀어서 하나의 평면화된 스트림으로 반환.

```java
List<String> collect = helloWorld.stream()
                .map(s -> s.split(""))
                .flatMap(Arrays::stream)
                .collect(Collectors.toList());
```

# 검색과 매칭
특정 속성이 데이터 집합에 있는지 여부를 검색하는 데이터 처리

## Predicate가 적어도 한요소와 일치하는지 확인
### anyMatch
- Predicate가 주어진 스트림에서 적어도 한요소와 일치하는지 확인.  
- boolean을 반환하는 최종 연산

## Predicate가 모든 요소와 일치하는지 검사
### allMatch
- 스트림의 모든 요소가 주어진 Predicate와 일치하는지 확인
- boolean을 반환하는 최종 연산

### noneMatch
- allMatch와 반대 연산
- 주어진 Predicate와 일치하는 요소가 없는지 확인
- boolean을 반환하는 최종 연산

## 요소 검색



# 참고문서

모던 자바 인 액션 - 라울 게이브리얼 우르마, 마리오 푸스코, 앨런 마이크로소포트
