# 리액티브 프로그래밍

리액티브 프로그래밍은 동시성을 높이는 방식 -> 반응을 즉각적으로 하기 때문에 적은 리소스로도 높은 반응을 보장  
but 기존 서버의 처리 속도를 올려 주는 형태는 아님  
같은서버로 더 많은 처리를 할 수 있어서 성능이 높아진 효과를 봄

———————————————————

# 동기/비동기 블로킹/논블로킹

동기/비동기는 요청한쪽 입장에서 생각

## 동기(Sync)

동기는 요청을 보내면 결과가 올때까지 대기 하는 방식  
요청과 응답이 같은순간에 끝남

## 비동기(Async)

비동기는 요청을 보내고 결과를 통보 받는 방식  
요청과 응답이 각각 다른순간에 끝남

블로킹/논블로킹은 양쪽 입장에서 생각해야함

## 블로킹(Blocking)

블로킹은 하나의 작업을 처리할때 호출된 작업이 끝날때까지 호출한 작업이 기다림

## 논블로킹(Non-blocking)

논 블로킹은 블로킹과 반대로 기다리지 않음  
호출한 작업이 호출된작업을 기다리지않고 결과를 발행/구독 형태로 통지함

———————————  
 스프링 MVC 에서는 동기, 블로킹방식으로 동작  
하나의 작업이 쓰레드에서 처리될떄 IO 작업(DB에서 데이터를 가지고오거나) 등이 있으면 쓰레드에서 일을하지않는 순간이 존재함

스프링 WebFlux는 비동기 논블로킹으로 동작  
모든 함수간의 관계가 발행/ 구독 형태의 옵저버 패턴으로 되어 있어 하나의 작업이 쓰레드에서 처리될때 IO 작업이 있으면 IO작업을 하는쪽에게 완료되면 호출해달라 하고 다른일을 계속 함.

———————————————  
Reactive Streams는 자바9에 들어옴

옵저버패턴의 pull 방식과 push 방식이 있는데

# push

publisher가 subscriber에게 이벤트를 보내는 방식( 구독자가 느린경우 대기를위한 큐가 필요하며 가변 길이 큐의경우 oom이 발생할수도있고 고정길이 큐는 신규수신메세지를 거절하고 거절된메세지를 재요청하는 이런과정이 필요함

# pull

subscriber가 자신이 처리할수 있는만큼 요청하는방식이라 위의 걱정들을 할필요없음
풀 방식에서 구독자가 수용할수 있는 만큼 데이터를 요청하는 방식이 백프레셔임

——————  
subscriber가 등록되기 전까지는 데이터를 보내지 않고 등록된 순간부터 보내기 시작한다.
